{"ast":null,"code":"var _jsxFileName = \"/Users/druid/Desktop/docker/razzle/examples/basic/src/server.js\";\nvar __jsx = React.createElement;\nimport App from './App';\nimport React from 'react';\nimport express from 'express';\nimport { renderToString } from 'react-dom/server';\nconst assets = require(process.env.RAZZLE_ASSETS_MANIFEST);\nconst cssLinksFromAssets = (assets, entrypoint) => {\n  return assets[entrypoint] ? assets[entrypoint].css ? assets[entrypoint].css.map(asset => `<link rel=\"stylesheet\" href=\"${asset}\">`).join('') : '' : '';\n};\nconst jsScriptTagsFromAssets = (assets, entrypoint, extra = '') => {\n  return assets[entrypoint] ? assets[entrypoint].js ? assets[entrypoint].js.map(asset => `<script src=\"${asset}\"${extra}></script>`).join('') : '' : '';\n};\nexport const renderApp = (req, res) => {\n  const markup = renderToString(__jsx(App, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 33\n    }\n  }));\n  const html =\n  // prettier-ignore\n  `<!doctype html>\n  <html lang=\"\">\n  <head>\n      <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n      <meta charSet='utf-8' />\n      <title>Welcome to Razzle</title>\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n      ${cssLinksFromAssets(assets, 'client')}\n  </head>\n  <body>\n      <div id=\"root\">${markup}</div>\n      ${jsScriptTagsFromAssets(assets, 'client', ' defer crossorigin')}\n  </body>\n</html>`;\n  return {\n    html\n  };\n};\nconst server = express();\nserver.disable('x-powered-by').use(express.static(process.env.RAZZLE_PUBLIC_DIR)).get('/*', (req, res) => {\n  const {\n    html\n  } = renderApp(req, res);\n  res.send(html);\n});\nexport default server;","map":{"version":3,"names":["App","React","express","renderToString","assets","require","process","env","RAZZLE_ASSETS_MANIFEST","cssLinksFromAssets","entrypoint","css","map","asset","join","jsScriptTagsFromAssets","extra","js","renderApp","req","res","markup","__jsx","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","html","server","disable","use","static","RAZZLE_PUBLIC_DIR","get","send"],"sources":["/Users/druid/Desktop/docker/razzle/examples/basic/src/server.js"],"sourcesContent":["import App from './App';\nimport React from 'react';\nimport express from 'express';\nimport { renderToString } from 'react-dom/server';\n\nconst assets = require(process.env.RAZZLE_ASSETS_MANIFEST);\n\nconst cssLinksFromAssets = (assets, entrypoint) => {\n  return assets[entrypoint] ? assets[entrypoint].css ?\n  assets[entrypoint].css.map(asset=>\n    `<link rel=\"stylesheet\" href=\"${asset}\">`\n  ).join('') : '' : '';\n};\n\nconst jsScriptTagsFromAssets = (assets, entrypoint, extra = '') => {\n  return assets[entrypoint] ? assets[entrypoint].js ?\n  assets[entrypoint].js.map(asset=>\n    `<script src=\"${asset}\"${extra}></script>`\n  ).join('') : '' : '';\n};\n\nexport const renderApp = (req, res) => {\n  const markup = renderToString(<App />);\n\n  const html =\n    // prettier-ignore\n    `<!doctype html>\n  <html lang=\"\">\n  <head>\n      <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n      <meta charSet='utf-8' />\n      <title>Welcome to Razzle</title>\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n      ${cssLinksFromAssets(assets, 'client')}\n  </head>\n  <body>\n      <div id=\"root\">${markup}</div>\n      ${jsScriptTagsFromAssets(assets, 'client', ' defer crossorigin')}\n  </body>\n</html>`;\n\n  return { html };\n};\n\nconst server = express();\n\nserver\n  .disable('x-powered-by')\n  .use(express.static(process.env.RAZZLE_PUBLIC_DIR))\n  .get('/*', (req, res) => {\n    const { html } = renderApp(req, res);\n    res.send(html);\n  });\n\nexport default server;\n"],"mappings":";;AAAA,OAAOA,GAAG,MAAM,OAAO;AACvB,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,SAAS;AAC7B,SAASC,cAAc,QAAQ,kBAAkB;AAEjD,MAAMC,MAAM,GAAGC,OAAO,CAACC,OAAO,CAACC,GAAG,CAACC,sBAAsB,CAAC;AAE1D,MAAMC,kBAAkB,GAAGA,CAACL,MAAM,EAAEM,UAAU,KAAK;EACjD,OAAON,MAAM,CAACM,UAAU,CAAC,GAAGN,MAAM,CAACM,UAAU,CAAC,CAACC,GAAG,GAClDP,MAAM,CAACM,UAAU,CAAC,CAACC,GAAG,CAACC,GAAG,CAACC,KAAK,IAC7B,gCAA+BA,KAAM,IACxC,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE;AACtB,CAAC;AAED,MAAMC,sBAAsB,GAAGA,CAACX,MAAM,EAAEM,UAAU,EAAEM,KAAK,GAAG,EAAE,KAAK;EACjE,OAAOZ,MAAM,CAACM,UAAU,CAAC,GAAGN,MAAM,CAACM,UAAU,CAAC,CAACO,EAAE,GACjDb,MAAM,CAACM,UAAU,CAAC,CAACO,EAAE,CAACL,GAAG,CAACC,KAAK,IAC5B,gBAAeA,KAAM,IAAGG,KAAM,YACjC,CAAC,CAACF,IAAI,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE;AACtB,CAAC;AAED,OAAO,MAAMI,SAAS,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EACrC,MAAMC,MAAM,GAAGlB,cAAc,CAACmB,KAAA,CAACtB,GAAG;IAAAuB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,CAAC;EAEtC,MAAMC,IAAI;EACR;EACC;AACL;AACA;AACA;AACA;AACA;AACA;AACA,QAAQpB,kBAAkB,CAACL,MAAM,EAAE,QAAQ,CAAE;AAC7C;AACA;AACA,uBAAuBiB,MAAO;AAC9B,QAAQN,sBAAsB,CAACX,MAAM,EAAE,QAAQ,EAAE,oBAAoB,CAAE;AACvE;AACA,QAAQ;EAEN,OAAO;IAAEyB;EAAK,CAAC;AACjB,CAAC;AAED,MAAMC,MAAM,GAAG5B,OAAO,CAAC,CAAC;AAExB4B,MAAM,CACHC,OAAO,CAAC,cAAc,CAAC,CACvBC,GAAG,CAAC9B,OAAO,CAAC+B,MAAM,CAAC3B,OAAO,CAACC,GAAG,CAAC2B,iBAAiB,CAAC,CAAC,CAClDC,GAAG,CAAC,IAAI,EAAE,CAAChB,GAAG,EAAEC,GAAG,KAAK;EACvB,MAAM;IAAES;EAAK,CAAC,GAAGX,SAAS,CAACC,GAAG,EAAEC,GAAG,CAAC;EACpCA,GAAG,CAACgB,IAAI,CAACP,IAAI,CAAC;AAChB,CAAC,CAAC;AAEJ,eAAeC,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}